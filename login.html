<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./CSS/styles.css">
    <title>Document</title>
</head>

<body>
    <a href="index.html">Volver inicio</a>
    <div class="titulo">
        <h3 class="titulo-registro">Iniciar Sesión</h3>
        <form id="userLogin">
            <div class="registro">
                <label for="nombreUsuario">Nombre</label>
                <input type="text" id="nombreUsuario" required>
            </div>
            <div class="registro">
                <label for="email">Email</label>
                <input type="text" id="email" required>
            </div>
            <div class="registro">
                <label for="password">Contraseña</label>
                <input type="password" id="password" required>
            </div>
            <button type="submit" class="btn-registrar">Iniciar Sesión</button>
            <p>¿No tienes una cuenta?</p>
            <a href="registrar.html">Regístrate.</a>
        </form>
        <span id="mensaje"></span>
        <p id="mostrarNombre" style="display: none;"></p>
       
    </div>


    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>

    <script>
        // Codigo Iniciar Sesión **********************************
        document.getElementById("userLogin").addEventListener("submit", function (e) {
            e.preventDefault();
            login();
        });


        function login() {
            
            let nombreUsuario = document.getElementById("nombreUsuario").value;
            let email = document.getElementById("email").value;
            let password = document.getElementById("password").value;
            let mostrarNombre = document.getElementById("mostrarNombre").value;
           // let mostrarNombre = document.getElementById("mostrarNombre").value;

            let usuarios = JSON.parse(localStorage.getItem("usuarios")) || [];

            let usuario = usuarios.find(user => user.correo === email);

          
            if (usuario && usuario.contrasena === password) {
                Swal.fire({
                    icon: 'success',
                    title: '¡Inicio de sesión exitoso!',
                    text: 'Bienvenido'

                });
                window.location.href = "index.html";
            } else {
                document.getElementById("mensaje").textContent = "Correo o contraseña incorrectos.";

            } 
        }
        //Fin codigo iniciar Sesion ***********************************
    </script>

</body>
</html>